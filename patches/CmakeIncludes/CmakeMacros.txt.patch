--- CmakeMacros.txt	Tue Jan  3 02:02:23 2017
+++ CmakeMacros.txt	Sat Aug 20 16:14:47 2016
@@ -71,7 +71,7 @@
 
 MACRO(FIXCOMPILEOPTIONS)#Fix added compile options that may cause problems, also fix warnings
 
-	IF(NOT ${CMAKE_GENERATOR} STREQUAL "MSYS Makefiles")
+	IF(MSVC)
 		IF(WIN32 AND NOT UNIX)
 			STRING(REGEX REPLACE "/Z[0-9a-zA-Z]+" ""  CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
 			STRING(REGEX REPLACE "/Z[0-9a-zA-Z]+" ""  CMAKE_C_FLAGS "${CMAKE_C_FLAGS}")
@@ -86,17 +86,17 @@
 
 	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -w")# -nowarn 4018 -nowarn 4305 -nowarn 4244")
 		ENDIF(WIN32 AND NOT UNIX)
-	ENDIF(NOT ${CMAKE_GENERATOR} STREQUAL "MSYS Makefiles")
+	ENDIF(MSVC)
 ENDMACRO(FIXCOMPILEOPTIONS)
 
 MACRO(FIXLINKOPTIONS)#Fix added link options that may cause problems
 	IF(WIN32 AND NOT UNIX)
-		IF(NOT ${CMAKE_GENERATOR} STREQUAL "MSYS Makefiles")
+		IF(MSVC)
 			STRING(REGEX REPLACE "/STACK:[0-9]+" ""  CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS}")
 			STRING(REGEX REPLACE "/STACK:[0-9]+" ""  CMAKE_SHARED_LINKER_FLAGS "${CMAKE_SHARED_LINKER_FLAGS}")
 			STRING(REGEX REPLACE "/machine:[0-9a-zA-Z]+" ""  CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS}")
 			STRING(REGEX REPLACE "/machine:[0-9a-zA-Z]+" ""  CMAKE_SHARED_LINKER_FLAGS "${CMAKE_SHARED_LINKER_FLAGS}")
-		ENDIF(NOT ${CMAKE_GENERATOR} STREQUAL "MSYS Makefiles")
+		ENDIF(MSVC)
 	ENDIF(WIN32 AND NOT UNIX)
 ENDMACRO(FIXLINKOPTIONS)
 
